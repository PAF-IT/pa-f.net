# PAF Site Editor

A simple web-based editor for the PAF website that allows editing content through a clean interface.

## Architecture

- **Frontend**: TypeScript React SPA with Vite
- **Backend**: Python FastAPI server
- **Data**: Loads/saves sitemap.json and regenerates static site

## Features

- Load entire sitemap.json in the browser
- Sidebar with list of all pages
- Markdown editor with syntax highlighting
- Edit page titles, dates, and images
- Save changes and automatically regenerate static site
- No database required - works directly with JSON files

## Setup

### Backend Setup

1. Install Python dependencies:
```bash
cd web-editor/backend
pip install -r requirements.txt
```

2. Start the backend server:
```bash
python main.py
```

The API will be available at http://localhost:8000

### Frontend Setup

1. Install Node.js dependencies:
```bash
cd web-editor/frontend
npm install
```

2. Start the development server:
```bash
npm run dev
```

The web editor will be available at http://localhost:3000

## Usage

1. Make sure you have a `sitemap.json` file in the project root (generated by running the palimpsest parser)
2. Start both backend and frontend servers
3. Open http://localhost:3000 in your browser
4. Select a page from the sidebar to edit
5. Make changes to title, date, image, or content
6. Click "Save & Regenerate Site" to save changes and rebuild the static site

## API Endpoints

- `GET /api/sitemap` - Get current sitemap data
- `POST /api/sitemap` - Update sitemap and regenerate static site
- `GET /api/status` - Get system status

## File Structure

```
web-editor/
├── frontend/           # React TypeScript SPA
│   ├── src/
│   │   ├── App.tsx    # Main application component
│   │   ├── main.tsx   # Entry point
│   │   └── index.css  # Styles
│   ├── package.json
│   └── vite.config.ts
├── backend/            # FastAPI server
│   ├── main.py        # API server
│   └── requirements.txt
└── README.md
```

## Development

The setup is designed to be as simple as possible:

- No authentication system (yet)
- No database - works directly with JSON files
- Minimal dependencies
- Hot reload for both frontend and backend during development

## Future Enhancements

- User authentication
- Real-time collaboration
- Image upload functionality
- Page creation/deletion
- Preview mode
- Backup/restore functionality
